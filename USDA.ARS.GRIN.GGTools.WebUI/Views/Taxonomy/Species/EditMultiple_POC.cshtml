@model USDA.ARS.GRIN.GGTools.Taxonomy.ViewModelLayer.SpeciesViewModel
@{
    ViewBag.Title = Model.PageTitle;
    ViewBag.ID = Model.ID;
    Layout = "~/Views/Shared/_LayoutAdminLTE3.cshtml";
}
<div id="section-search-results" class="card card-success">
    <div class="card-header">
        <h3 class="card-title">Species</h3>
        <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                <i class="fas fa-minus"></i>
            </button>
        </div>
    </div>
    <div class="card-body">
        <div id="section-search-results">
            <div id="section-search-results">
                <table id="example" class="table table-striped" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Protologue</th>
                            <th>Authority</th>
                            <th>Note</th>
                            <th>Last Modified</th>
                        </tr>
                    </thead>
                </table>

            </div>
        </div>
    </div>
</div>
<script type="text/javascript">

    $(document).ready(function () {

        var editor = new DataTable.Editor({
            ajax: '@Url.Action("EditMultiple","Species")',
            fields: [
                {
                    label: 'ID:',
                    name: 'taxonomy_species_id'
                },
                {
                    label: 'Name:',
                    name: 'name'
                },
                {
                    label: 'Protologue:',
                    name: 'protologue'
                },
                {
                    label: 'Authority:',
                    name: 'name_authority'
                },
                {
                    label: 'Note:',
                    name: 'note'
                }
            ],
            table: '#example'
        });

        var table = $('#example').DataTable({
            ajax: '@Url.Action("EditMultiple","Species")',
            autoFill: {
                editor: editor
            },
            //buttons: [
            //    { extend: 'create', editor: editor },
            //    { extend: 'edit', editor: editor },
            //    { extend: 'remove', editor: editor }
            //],
            columns: [
                { data: 'taxonomy_species_id' },
                { data: 'name' },
                { data: 'protologue' },
                { data: 'name_authority' },
                { data: 'note' },
                { data: 'modified_date' }
            ],
            layout: {
                topStart: {
                    buttons: [
                        { extend: 'create', editor: editor },
                        { extend: 'edit', editor: editor },
                        { extend: 'remove', editor: editor }
                    ]
                }
            },
            order: [[1, 'asc']],
            dom: 'Bfrtip',
            select: {
                blurable: true,
                selector: 'td:first-child',
                style: 'os'
            }
        });

        // Activate an inline edit on click of a table cell
        $('#example').on('click', 'tbody td:not(:first-child)', function (e) {
            editor.inline(this, {
                onBlur: 'submit'
            });
        });

    });
</script>
